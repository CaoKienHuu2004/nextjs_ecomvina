<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Đăng nhập | My‑T</title>
  <link rel="stylesheet" href="dangnhap.css">
</head>
<body>
  <div class="lang">
    <label class="sr-only" for="langSel">Language</label>
    <select id="langSel" aria-label="Language">
      <option>Tiếng Việt</option>
      <option selected>English</option>
    </select>
  </div>

  <main class="wrap">
    <div>
      <div class="brand">MY‑T</div>

      <section class="card">
        <div class="tabs">
          <div class="tab active" data-tab="login">ID/Phone number</div>
          <div class="tab" data-tab="qr">QR code</div>
        </div>

        <!-- Panel: Login -->
        <div class="panel active" id="panel-login">
          <form id="loginForm" class="row" novalidate>
            <label class="input" aria-label="ID hoặc số điện thoại">
              <span>📇</span>
              <input id="idOrPhone" type="text" placeholder="ID or Phone number" autocomplete="username" required />
            </label>
            <label class="input" aria-label="Mật khẩu">
              <span>🔒</span>
              <input id="password" type="password" placeholder="Password" autocomplete="current-password" required />
            </label>

            <div class="options">
              <label style="display:flex; align-items:center; gap:8px; font-size:12px; color:#4b5563">
                <input id="staySigned" type="checkbox" /> Stay Signed in
              </label>
              <label class="switch">IP Security
                <input id="ipSec" type="checkbox" checked />
              </label>
            </div>

            <button id="signInBtn" class="btn btn-primary" disabled>Sign in</button>

            <div class="divider"><span>Make it safer</span></div>

            <button type="button" class="btn btn-outline" id="passkeyBtn">Sign in with a passkey</button>

            <div class="links">
                <!-- đoạn này có thể bỏ đường dẫn đến khoiphucmk.html vì đã có function js bên dưới -->
              <a href="khoiphucmk.html" id="forgotPw">Forgot your Password</a>
              <span>or</span>
              <a href="dieukhoan.html">Sign up</a>
            </div>

            <div class="social">
              <button type="button">f  Facebook</button>
              <button type="button">LINE</button>
            </div>
          </form>
        </div>

        <!-- Panel: QR -->
        <div class="panel" id="panel-qr">
          <div style="padding:12px; color:#4b5563; text-align:center">
            <p>Quét mã QR bằng ứng dụng My‑T để đăng nhập nhanh.</p>
            <div style="display:grid; place-items:center; gap:8px; padding:8px">
              <div style="width:180px; height:180px; border:1px dashed var(--border); border-radius:12px; background:repeating-linear-gradient(45deg,#f8fafc,#f8fafc 8px,#f1f5f9 8px,#f1f5f9 16px)"></div>
              <small class="muted">(Demo) QR chỉ là minh họa.</small>
            </div>
          </div>
        </div>
      </section>

      <div class="footer">© 2025 My‑T</div>
    </div>
  </main>

  <script>
    // Tabs
    const tabs = document.querySelectorAll('.tab');
    const panels = { login: document.getElementById('panel-login'), qr: document.getElementById('panel-qr') };
    tabs.forEach(t=>t.addEventListener('click', ()=>{
      tabs.forEach(x=>x.classList.remove('active'));
      t.classList.add('active');
      Object.values(panels).forEach(p=>p.classList.remove('active'));
      panels[t.dataset.tab].classList.add('active');
    }));

    // Form logic
    const idOrPhone = document.getElementById('idOrPhone');
    const password = document.getElementById('password');
    const signInBtn = document.getElementById('signInBtn');

    function validate(){
      const ok = idOrPhone.value.trim().length>0 && password.value.length>0;
      signInBtn.disabled = !ok; signInBtn.classList.toggle('enabled', ok);
    }
    idOrPhone.addEventListener('input', validate);
    password.addEventListener('input', validate);

    document.getElementById('loginForm').addEventListener('submit', (e)=>{
      e.preventDefault();
      // (Demo) xử lý đăng nhập — thay bằng gọi API thực tế
      const payload = { id: idOrPhone.value.trim(), pw: password.value, stay: document.getElementById('staySigned').checked, ipsec: document.getElementById('ipSec').checked };
      console.log('LOGIN', payload);
      // ví dụ điều hướng sau khi đăng nhập thành công
      window.location.href = 'index.html';
    });

    document.getElementById('passkeyBtn').addEventListener('click', ()=>{
      alert('Demo passkey — tích hợp WebAuthn ở đây.');
    });

    document.getElementById('forgotPw').addEventListener('click', function(e){
        e.preventDefault();
        window.location.href = 'khoiphucmk.html';
    });

  </script>
</body>
</html>
