<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ƒêƒÉng k√Ω | Green Minimal</title>
  <style>
    :root{
      --green:#2db400;
      --green-soft:#eaf7e4;     /* legacy var (not used for fields now) */
      --text:#222;
      --muted:#6b7280;
      --border:#d7e5d0;
      --danger:#e11d48;
      --radius:14px;
      --input-text:#4b5563;
      --placeholder:#9ca3af;
      --field-bg:#f3f4f6;       /* n·ªÅn x√°m nh·∫°t cho √¥ nh·∫≠p */
      --field-border:#e5e7eb;   /* vi·ªÅn x√°m nh·∫°t */
    }

    *{box-sizing:border-box}
    body{
      margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; color:var(--text);
      background:#fff; 
      display:grid; place-items:center; min-height:100svh;
    }

    .wrap{width:min(880px,92vw);}

    .brand{font-weight:800; letter-spacing:.5px; color:var(--green); font-size:32px; margin:16px 0 24px}

    .card{
      background:#fff; border:1px solid var(--border); border-radius:20px; padding:28px; 
      box-shadow:0 10px 30px rgba(45,180,0,.06);
    }

    form{
      display:grid; gap:10px;
      grid-template-columns:1fr;
    }

    .input, .select, .btn, .segmented{
      height:50px; border-radius:var(--radius); border:1px solid var(--field-border); background:var(--field-bg);
      padding:0 14px; display:flex; align-items:center; gap:10px;
    }

    .input input, .select select{border:0; outline:none; background:transparent; width:100%; font:inherit; color:var(--input-text);}
    /* make input flex and allow suffix stay fixed */
    .input{display:flex; align-items:center}
    .input input{flex:1 1 auto; min-width:0}
    .suffix-in{flex:0 0 auto}

    .muted{font-size:12px; color:var(--muted);}

    .inline{display:grid; grid-template-columns:1fr 180px; gap:0;}

    .suffix{color:var(--input-text); white-space:nowrap; font-weight:600; background:var(--field-bg); border-left:1px solid var(--field-border); display:flex; align-items:center; justify-content:center; position:relative;}
    .suffix::before{content:"|"; position:relative; left:-8px; color:#cbd5e1;}

    .segmented{
      background:#fff; padding:4px; gap:6px; border-color:var(--border);
    }

    .segmented button{
      flex:1; height:44px; border-radius:12px; border:1px solid transparent; background:#f7fbf5; cursor:pointer; font-weight:600;
    }
    .segmented button.active{ background:var(--green-soft); border-color:var(--green); color:#0b6e00 }

    .group{display:grid; gap:10px}

    .phone{display:grid; grid-template-columns:200px 1fr; gap:8px}

    .btn{
      background:var(--green); color:#fff; border-color:var(--green); cursor:pointer; height:56px; font-weight:800; letter-spacing:.2px;
    }
    .btn:disabled{opacity:.6; cursor:not-allowed}

    .row{display:grid; gap:10px}

    .hint{font-size:12px; color:#0b6e00}

    .eye{cursor:pointer; user-select:none}

    .error{color:var(--danger); font-size:12px; display:none}
    /* placeholder color */
    .input input::placeholder{ color:var(--placeholder); }

    /* responsive */
    /* inline suffix inside same field */
    .suffix-in{ margin-left:auto; padding-left:12px; border-left:1px solid var(--field-border); height:100%; display:flex; align-items:center; white-space:nowrap; color:var(--muted); font-weight:600; }

    @media (max-width:600px){
      .phone{grid-template-columns:1fr;}
      .inline{grid-template-columns:1fr;}
    }
  </style>
</head>
<body>
  <main class="wrap">
    <div class="brand">NAVER</div>

    <section class="card">
      <form id="signupForm" novalidate>
        <!-- ID -->
        <label class="input" aria-label="ID">
            <span>ü™™</span>
            <input id="userId" type="text" placeholder="ID" autocomplete="username" required />
            <span class="suffix-in" aria-hidden="true">@my-t.com</span>
            </label>
        <div class="error" id="err-id">Vui l√≤ng nh·∫≠p ID (t·ªëi thi·ªÉu 4 k√Ω t·ª± v√† kh√¥ng ch·ª©a kho·∫£ng tr·∫Øng).</div>

        <!-- Password -->
        <label class="input" aria-label="M·∫≠t kh·∫©u">
          <span>üîí</span>
          <input id="password" type="password" placeholder="Password" autocomplete="new-password" required />
          <span class="eye" id="togglePw" title="Hi·ªán/·∫©n m·∫≠t kh·∫©u">üëÅÔ∏è</span>
        </label>
        <div class="error" id="err-pw">M·∫≠t kh·∫©u t·ªëi thi·ªÉu 6 k√Ω t·ª±.</div>

        <!-- Optional email -->
        <label class="input" aria-label="Email ph·ª•">
          <span>‚úâÔ∏è</span>
          <input id="backupEmail" type="email" placeholder="[Optional] Email (for identification)" />
        </label>

        <!-- Name & DOB -->
        <label class="input" aria-label="H·ªç v√† t√™n">
          <span>üë§</span>
          <input id="fullName" type="text" placeholder="Name" required />
        </label>
        <div class="error" id="err-name">Vui l√≤ng nh·∫≠p h·ªç v√† t√™n.</div>

        <label class="input" aria-label="Ng√†y sinh">
          <span>üìÖ</span>
          <input id="dob" type="date" placeholder="YYYY-MM-DD" required />
        </label>
        <div class="error" id="err-dob">Ng√†y sinh kh√¥ng h·ª£p l·ªá.</div>

        <!-- Gender segmented -->
        <div class="group">
          <div class="segmented" role="tablist" aria-label="Gi·ªõi t√≠nh">
            <button type="button" data-gender="male" class="active" role="tab" aria-selected="true">Male</button>
            <button type="button" data-gender="female" role="tab" aria-selected="false">Female</button>
            <button type="button" data-gender="other" role="tab" aria-selected="false">Other</button>
          </div>
          <div class="muted">B·∫°n kh√¥ng th·ªÉ x√°c minh b·∫±ng t√™n th·∫≠t n·∫øu t√™n, ng√†y sinh v√† gi·ªõi t√≠nh kh√¥ng kh·ªõp v·ªõi gi·∫•y t·ªù tu·ª≥ th√¢n.</div>
        </div>

        <!-- Phone -->
        <div class="phone">
          <label class="select" aria-label="M√£ qu·ªëc gia">
            <span>üåê</span>
            <select id="country">
              <option value="+82" selected>Korea (Rep. of)  +82</option>
              <option value="+84">Viet Nam  +84</option>
              <option value="+1">United States  +1</option>
              <option value="+81">Japan  +81</option>
              <option value="+65">Singapore  +65</option>
            </select>
          </label>
          <label class="input" aria-label="S·ªë ƒëi·ªán tho·∫°i">
            <span id="dial">+82</span>
            <input id="phone" type="tel" placeholder="Enter Phone Number" required />
          </label>
        </div>
        <div class="error" id="err-phone">S·ªë ƒëi·ªán tho·∫°i kh√¥ng h·ª£p l·ªá.</div>

        <!-- Submit -->
        <button class="btn" id="sendCode" type="submit">Sign in</button>
        <div class="hint" id="result" aria-live="polite"></div>
      </form>
    </section>
  </main>

  <script>
    // Toggle password visibility
    document.getElementById('togglePw').addEventListener('click', () => {
      const pw = document.getElementById('password');
      pw.type = pw.type === 'password' ? 'text' : 'password';
    });

    // Gender segmented control
    const genderGroup = document.querySelectorAll('.segmented button');
    let gender = 'male';
    genderGroup.forEach(btn => btn.addEventListener('click', () => {
      genderGroup.forEach(b => { b.classList.remove('active'); b.setAttribute('aria-selected','false'); });
      btn.classList.add('active');
      btn.setAttribute('aria-selected','true');
      gender = btn.dataset.gender;
    }));

    // Country code reflect to dial prefix
    const country = document.getElementById('country');
    const dial = document.getElementById('dial');
    country.addEventListener('change', () => dial.textContent = country.value);

    // Simple validators
    const idOk = v => /^(?=.{4,})[^\s]+$/.test(v);
    const pwOk = v => v.length >= 6;
    const phoneOk = v => /^[0-9\-\s]{6,15}$/.test(v);

    const show = (id, cond) => { const el = document.getElementById(id); el.style.display = cond ? 'none':'block'; };

    // Submit handler (demo)
    document.getElementById('signupForm').addEventListener('submit', (e) => {
      e.preventDefault();
      const id = document.getElementById('userId').value.trim();
      const pw = document.getElementById('password').value;
      const name = document.getElementById('fullName').value.trim();
      const dob = document.getElementById('dob').value;
      const phone = document.getElementById('phone').value.trim();

      const v1 = idOk(id); show('err-id', v1);
      const v2 = pwOk(pw); show('err-pw', v2);
      const v3 = name.length>0; show('err-name', v3);
      const v4 = Boolean(dob); show('err-dob', v4);
      const v5 = phoneOk(phone); show('err-phone', v5);

      if(v1 && v2 && v3 && v4 && v5){
        const payload = {
          id: id + '@my-t.com',
          name, dob, gender,
          phone: country.value + ' ' + phone,
          backupEmail: document.getElementById('backupEmail').value.trim() || null
        };
        // document.getElementById('result').textContent = '‚úÖ D·ªØ li·ªáu h·ª£p l·ªá. (Demo) G·ª≠i m√£ ƒë·∫øn: ' + payload.phone;
        window.location.href = 'dangnhap.html';
        // TODO: G·ªçi API backend t·∫°i ƒë√¢y ƒë·ªÉ g·ª≠i OTP / t·∫°o t√†i kho·∫£n
        // fetch('/api/signup', {method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(payload)})
      } else {
        document.getElementById('result').textContent = '';
      }
    });
  </script>
</body>
</html>
